{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/futz-button.js","src/js/futz-control.js","src/js/futz-range-control.js","src/js/index.js"],"names":[],"mappings":"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","file":"futz.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","class FutzButton {\n  \n  constructor(futz, config) {\n    this.futz = futz;\n    this.id = config.id;\n    this.title = config.title;\n    this.callback = config.callback;\n    \n    this.createDOM();\n    this.listen();\n  }\n  \n  createDOM() {\n    this.dom = {};\n    \n    // control\n    this.dom.control = document.createElement('div');\n    this.dom.control.classList.add(`${this.futz.namespace}-control`);\n    \n    // button\n    this.dom.button = document.createElement('button');\n    this.dom.button.classList.add(`${this.futz.namespace}-control-button`);\n    this.dom.button.textContent = this.title;\n    this.dom.control.appendChild(this.dom.button);\n    \n    // add control to panel\n    this.futz.dom.controls.appendChild(this.dom.control);\n  }\n  \n  listen() {\n    this.dom.button.addEventListener('click', (e) => this.onButtonClick(e));\n  }\n  \n  onButtonClick(e) {\n    this.callback(); \n  }\n  \n}\n\nmodule.exports = FutzButton\n","class FutzControl {\n  \n  constructor(futz, config) {\n    this.futz = futz;\n    this.type = config.type;\n    this.id = config.id;\n    this.title = config.title;\n    this.default = config.default;\n    this.randomizable = config.randomizable !== undefined ? config.locked : true;\n    this.mutable = config.mutable !== undefined ? config.mutable : true;\n    this.locked = config.locked !== undefined ? config.locked : false;\n    this.value = this.default;\n    \n    this.createDOM();\n  }\n  \n  createDOM() {\n    this.dom = {};\n    \n    // control\n    this.dom.control = document.createElement('div');\n    this.dom.control.classList.add(`${this.futz.namespace}-control`);\n    \n    // title\n    this.dom.title = document.createElement('h3');\n    this.dom.title.classList.add(`${this.futz.namespace}-control-title`);\n    this.dom.title.textContent = this.title;\n    this.dom.control.appendChild(this.dom.title);\n    \n    // value\n    this.dom.value = document.createElement('input');\n    this.dom.value.classList.add(`${this.futz.namespace}-control-value`);\n    this.dom.control.appendChild(this.dom.value);\n    \n    // add control to panel\n    this.futz.dom.controls.appendChild(this.dom.control);\n  }\n  \n  lock() {\n    this.locked = true;\n  }\n  \n  unlock() {\n    this.locked = false;\n  }\n  \n}\n\nmodule.exports = FutzControl;\n","const FutzControl = require('./futz-control');\n\nclass FutzRangeControl extends FutzControl {\n  \n  constructor(futz, config) {\n    super(futz, config);\n    this.min = config.min;\n    this.max = config.max;\n    this.step = config.step !== undefined ? Math.abs(config.step) : 1;\n    this.places = this.step.toString().indexOf('.') > -1 ? this.step.toString().split('.')[1].length : 0;\n    this.valueTarget = this.value;\n        \n    this.mouseIsDown = false;\n    this.settled = false;\n    \n    this.listen();\n    \n    this.set(this.value);\n  }\n  \n  createDOM() {\n    super.createDOM();\n    \n    // range\n    this.dom.range = document.createElement('div');\n    this.dom.range.classList.add(`${this.futz.namespace}-control-range`);\n    \n    // range inner\n    this.dom.rangeInner = document.createElement('div');\n    this.dom.rangeInner.classList.add(`${this.futz.namespace}-control-range-inner`);\n    this.dom.range.appendChild(this.dom.rangeInner);\n    \n    this.dom.control.appendChild(this.dom.range);\n  }\n  \n  listen() {\n    this.dom.value.addEventListener('change', (e) => this.onValueChange(e));\n    this.dom.range.addEventListener('mousedown', (e) => this.onValueMousedown(e));\n  }\n  \n  onValueChange(e) {\n    this.set(this.dom.value.value);\n    this.valueTarget = this.value;\n  }\n  \n  onValueMousedown(e) {\n    this.futz.mouse.down = true;\n    this.futz.mouse.anchor.x = e.clientX;\n    this.futz.mouse.anchor.y = e.clientY;\n    this.mouseIsDown = true;\n    this.setDragValue();\n  }\n  \n  onWindowMouseup(e) {\n    this.mouseIsDown = false;\n  }\n  \n  onWindowMousemove(e) {\n    if(this.mouseIsDown) {\n      this.setDragValue();\n    }\n  }\n  \n  setDragValue() {\n    let left = this.dom.range.offsetLeft;\n    let width = this.dom.range.offsetWidth;\n    let val = this.futz.map(this.futz.mouse.x, left, left + width, this.min, this.max);\n    this.set(val);\n    this.valueTarget = this.value;\n  }\n  \n  easeSet() {\n    if(Math.abs(this.value - this.valueTarget) > this.step / 2) {\n      this.value += (this.valueTarget - this.value) * 0.2;\n      this.set(this.value, true);\n    } else {\n      this.settled = true;\n      this.value = this.valueTarget;\n      this.set(this.value); \n    }\n  }\n  \n  set(val, bypassRounding) {\n    // sanitize value\n    val = parseFloat(val);\n    val = isNaN(val) ? this.default : val;\n    val = this.futz.clamp(val, this.min, this.max);\n    val = bypassRounding ? val : this.futz.roundToNearestInterval(val, this.step);\n    this.value = val;\n    \n    // set input value\n    this.dom.value.value = this.value.toFixed(this.places);\n    \n    // set range value\n    this.dom.rangeInner.style.transform = `scaleX(${this.futz.map(this.value, this.min, this.max, 0, 1)})`;\n    \n    // set the title attribute for the control\n    this.dom.control.setAttribute('title', `${this.title}: ${this.value.toFixed(this.places)}`);\n  }\n  \n}\n\nmodule.exports = FutzRangeControl;\n","const FutzButton = require('./futz-button');\nconst FutzRangeControl = require('./futz-range-control');\n\nclass Futz {\n  \n  constructor(config) {\n    this.controls = {};\n    this.buttons = {};\n    \n    this.mouse = {\n      down: false,\n      x: 0,\n      y: 0,\n      anchor: {\n        x: 0,\n        y: 0\n      }\n    }\n    \n    this.needsUpdate = false;\n    this.raf = null;\n    \n    this.container = config.container !== undefined ? config.container : document.body;\n    this.namespace = config.namespace !== undefined ? config.namespace : 'futz';\n    this.title = config.title !== undefined ? config.title : 'Futz';\n    \n    this.createDOM();\n    this.listen();\n  }\n  \n  createDOM() {\n    this.dom = {};\n    \n    // dom\n    this.dom.container = this.container;\n    \n    // panel\n    this.dom.panel = document.createElement('div');\n    this.dom.panel.classList.add(`${this.namespace}-panel`);\n    \n    // title\n    this.dom.title = document.createElement('h1');\n    this.dom.title.classList.add(`${this.namespace}-title`);\n    this.dom.title.textContent = this.title;\n    this.dom.panel.appendChild(this.dom.title);\n    \n    // controls\n    this.dom.controls = document.createElement('div');\n    this.dom.controls.classList.add(`${this.namespace}-controls`);\n    this.dom.panel.appendChild(this.dom.controls);\n    \n    // add panel to container\n    this.dom.container.appendChild(this.dom.panel);\n  }\n  \n  listen() {\n    window.addEventListener('mouseup', (e) => this.onWindowMouseup(e));\n    window.addEventListener('mousemove', (e) => this.onWindowMousemove(e));\n  }\n  \n  onWindowMouseup(e) {\n    this.mouse.down = false;\n    for(let key in this.controls) {\n      let control = this.controls[key];\n      control.onWindowMouseup(e);\n    }\n  }\n  \n  onWindowMousemove(e) {\n    this.mouse.x = e.clientX;\n    this.mouse.y = e.clientY;\n    for(let key in this.controls) {\n      let control = this.controls[key];\n      control.onWindowMousemove(e);\n    }\n  }\n  \n  update() {\n    this.needsUpdate = false;\n    for(let key in this.controls) {\n      if(this.controls[key].type === 'range') {\n        this.controls[key].easeSet();\n        if(!this.controls[key].settled) {\n          this.needsUpdate = true;\n        }\n      }\n    }\n    \n    if(this.needsUpdate) {\n      this.raf = requestAnimationFrame(() => this.update()); \n    }\n  }\n  \n  addButton(config) {\n    for(let key in this.buttons) {\n       if(config.id === this.buttons[key].id) {\n         console.error(`Futz: A button with an id of '${config.id}' is already in use.`); \n         return;\n       }          \n    }\n    this.buttons[config.id] = new FutzButton(this, config); \n  }\n  \n  addControl(config) {\n    let control = null;\n    \n    for(let key in this.controls) {\n       if(config.id === this.controls[key].id) {\n         console.error(`Futz: A control with an id of '${config.id}' is already in use.`); \n         return;\n       }          \n    }\n    \n    switch(config.type) {\n      case 'range':\n        control = new FutzRangeControl(this, config);\n        break;\n    }\n    \n    if(control) {\n      this.controls[control.id] = control; \n    }\n  }\n  \n  get(id) {\n    return this.controls[id].value;\n  }\n  \n  randomize() {\n    for(let key in this.controls) {\n      let control = this.controls[key];\n      control.settled = false;\n      control.valueTarget = this.rand(control.min, control.max);\n      cancelAnimationFrame(this.raf);\n      this.update();\n    }\n  }\n  \n  mutate() {\n    for(let key in this.controls) {\n      let control = this.controls[key];\n      let size = (control.max - control.min) / 15;\n      control.settled = false;\n      if(control.value <= control.min) {\n        control.valueTarget = this.rand(control.step, control.min + size);\n      } else if(control.value >= control.max) {\n        control.valueTarget = this.rand(control.max - size, control.max - control.step);\n      } else {\n        control.valueTarget = control.value + this.rand(-size, size);\n      }\n      cancelAnimationFrame(this.raf);\n      this.update();\n    }\n  }\n  \n  rand(min, max, ease) {\n    if(max === undefined) {\n      max = min;\n      min = 0;\n    }\n    let random = Math.random();\n    return random * (max - min) + min;\n  }\n  \n  clamp(val, min, max) {\n    return Math.max(Math.min(val, max), min);\n  }\n  \n  map(val, inMin, inMax, outMin, outMax) {\n    return ((outMax - outMin) * ((val - inMin) / (inMax - inMin))) + outMin;\n  }\n  \n  roundToNearestInterval(value, interval) {\n    return Math.round(value / interval) * interval;\n  }\n  \n}\n\nmodule.exports = Futz;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvZnV0ei1idXR0b24uanMiLCJzcmMvanMvZnV0ei1jb250cm9sLmpzIiwic3JjL2pzL2Z1dHotcmFuZ2UtY29udHJvbC5qcyIsInNyYy9qcy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7OztJQ0FNLFU7QUFFSixzQkFBWSxJQUFaLEVBQWtCLE1BQWxCLEVBQTBCO0FBQUE7O0FBQ3hCLFNBQUssSUFBTCxHQUFZLElBQVo7QUFDQSxTQUFLLEVBQUwsR0FBVSxPQUFPLEVBQWpCO0FBQ0EsU0FBSyxLQUFMLEdBQWEsT0FBTyxLQUFwQjtBQUNBLFNBQUssUUFBTCxHQUFnQixPQUFPLFFBQXZCOztBQUVBLFNBQUssU0FBTDtBQUNBLFNBQUssTUFBTDtBQUNEOzs7O2dDQUVXO0FBQ1YsV0FBSyxHQUFMLEdBQVcsRUFBWDs7QUFFQTtBQUNBLFdBQUssR0FBTCxDQUFTLE9BQVQsR0FBbUIsU0FBUyxhQUFULENBQXVCLEtBQXZCLENBQW5CO0FBQ0EsV0FBSyxHQUFMLENBQVMsT0FBVCxDQUFpQixTQUFqQixDQUEyQixHQUEzQixDQUFrQyxLQUFLLElBQUwsQ0FBVSxTQUE1Qzs7QUFFQTtBQUNBLFdBQUssR0FBTCxDQUFTLE1BQVQsR0FBa0IsU0FBUyxhQUFULENBQXVCLFFBQXZCLENBQWxCO0FBQ0EsV0FBSyxHQUFMLENBQVMsTUFBVCxDQUFnQixTQUFoQixDQUEwQixHQUExQixDQUFpQyxLQUFLLElBQUwsQ0FBVSxTQUEzQztBQUNBLFdBQUssR0FBTCxDQUFTLE1BQVQsQ0FBZ0IsV0FBaEIsR0FBOEIsS0FBSyxLQUFuQztBQUNBLFdBQUssR0FBTCxDQUFTLE9BQVQsQ0FBaUIsV0FBakIsQ0FBNkIsS0FBSyxHQUFMLENBQVMsTUFBdEM7O0FBRUE7QUFDQSxXQUFLLElBQUwsQ0FBVSxHQUFWLENBQWMsUUFBZCxDQUF1QixXQUF2QixDQUFtQyxLQUFLLEdBQUwsQ0FBUyxPQUE1QztBQUNEOzs7NkJBRVE7QUFBQTs7QUFDUCxXQUFLLEdBQUwsQ0FBUyxNQUFULENBQWdCLGdCQUFoQixDQUFpQyxPQUFqQyxFQUEwQyxVQUFDLENBQUQ7QUFBQSxlQUFPLE1BQUssYUFBTCxDQUFtQixDQUFuQixDQUFQO0FBQUEsT0FBMUM7QUFDRDs7O2tDQUVhLEMsRUFBRztBQUNmLFdBQUssUUFBTDtBQUNEOzs7Ozs7QUFJSCxPQUFPLE9BQVAsR0FBaUIsVUFBakI7Ozs7Ozs7OztJQ3ZDTSxXO0FBRUosdUJBQVksSUFBWixFQUFrQixNQUFsQixFQUEwQjtBQUFBOztBQUN4QixTQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0EsU0FBSyxJQUFMLEdBQVksT0FBTyxJQUFuQjtBQUNBLFNBQUssRUFBTCxHQUFVLE9BQU8sRUFBakI7QUFDQSxTQUFLLEtBQUwsR0FBYSxPQUFPLEtBQXBCO0FBQ0EsU0FBSyxPQUFMLEdBQWUsT0FBTyxPQUF0QjtBQUNBLFNBQUssWUFBTCxHQUFvQixPQUFPLFlBQVAsS0FBd0IsU0FBeEIsR0FBb0MsT0FBTyxNQUEzQyxHQUFvRCxJQUF4RTtBQUNBLFNBQUssT0FBTCxHQUFlLE9BQU8sT0FBUCxLQUFtQixTQUFuQixHQUErQixPQUFPLE9BQXRDLEdBQWdELElBQS9EO0FBQ0EsU0FBSyxNQUFMLEdBQWMsT0FBTyxNQUFQLEtBQWtCLFNBQWxCLEdBQThCLE9BQU8sTUFBckMsR0FBOEMsS0FBNUQ7QUFDQSxTQUFLLEtBQUwsR0FBYSxLQUFLLE9BQWxCOztBQUVBLFNBQUssU0FBTDtBQUNEOzs7O2dDQUVXO0FBQ1YsV0FBSyxHQUFMLEdBQVcsRUFBWDs7QUFFQTtBQUNBLFdBQUssR0FBTCxDQUFTLE9BQVQsR0FBbUIsU0FBUyxhQUFULENBQXVCLEtBQXZCLENBQW5CO0FBQ0EsV0FBSyxHQUFMLENBQVMsT0FBVCxDQUFpQixTQUFqQixDQUEyQixHQUEzQixDQUFrQyxLQUFLLElBQUwsQ0FBVSxTQUE1Qzs7QUFFQTtBQUNBLFdBQUssR0FBTCxDQUFTLEtBQVQsR0FBaUIsU0FBUyxhQUFULENBQXVCLElBQXZCLENBQWpCO0FBQ0EsV0FBSyxHQUFMLENBQVMsS0FBVCxDQUFlLFNBQWYsQ0FBeUIsR0FBekIsQ0FBZ0MsS0FBSyxJQUFMLENBQVUsU0FBMUM7QUFDQSxXQUFLLEdBQUwsQ0FBUyxLQUFULENBQWUsV0FBZixHQUE2QixLQUFLLEtBQWxDO0FBQ0EsV0FBSyxHQUFMLENBQVMsT0FBVCxDQUFpQixXQUFqQixDQUE2QixLQUFLLEdBQUwsQ0FBUyxLQUF0Qzs7QUFFQTtBQUNBLFdBQUssR0FBTCxDQUFTLEtBQVQsR0FBaUIsU0FBUyxhQUFULENBQXVCLE9BQXZCLENBQWpCO0FBQ0EsV0FBSyxHQUFMLENBQVMsS0FBVCxDQUFlLFNBQWYsQ0FBeUIsR0FBekIsQ0FBZ0MsS0FBSyxJQUFMLENBQVUsU0FBMUM7QUFDQSxXQUFLLEdBQUwsQ0FBUyxPQUFULENBQWlCLFdBQWpCLENBQTZCLEtBQUssR0FBTCxDQUFTLEtBQXRDOztBQUVBO0FBQ0EsV0FBSyxJQUFMLENBQVUsR0FBVixDQUFjLFFBQWQsQ0FBdUIsV0FBdkIsQ0FBbUMsS0FBSyxHQUFMLENBQVMsT0FBNUM7QUFDRDs7OzJCQUVNO0FBQ0wsV0FBSyxNQUFMLEdBQWMsSUFBZDtBQUNEOzs7NkJBRVE7QUFDUCxXQUFLLE1BQUwsR0FBYyxLQUFkO0FBQ0Q7Ozs7OztBQUlILE9BQU8sT0FBUCxHQUFpQixXQUFqQjs7Ozs7Ozs7Ozs7Ozs7O0FDaERBLElBQU0sY0FBYyxRQUFRLGdCQUFSLENBQXBCOztJQUVNLGdCOzs7QUFFSiw0QkFBWSxJQUFaLEVBQWtCLE1BQWxCLEVBQTBCO0FBQUE7O0FBQUEsb0lBQ2xCLElBRGtCLEVBQ1osTUFEWTs7QUFFeEIsVUFBSyxHQUFMLEdBQVcsT0FBTyxHQUFsQjtBQUNBLFVBQUssR0FBTCxHQUFXLE9BQU8sR0FBbEI7QUFDQSxVQUFLLElBQUwsR0FBWSxPQUFPLElBQVAsS0FBZ0IsU0FBaEIsR0FBNEIsS0FBSyxHQUFMLENBQVMsT0FBTyxJQUFoQixDQUE1QixHQUFvRCxDQUFoRTtBQUNBLFVBQUssTUFBTCxHQUFjLE1BQUssSUFBTCxDQUFVLFFBQVYsR0FBcUIsT0FBckIsQ0FBNkIsR0FBN0IsSUFBb0MsQ0FBQyxDQUFyQyxHQUF5QyxNQUFLLElBQUwsQ0FBVSxRQUFWLEdBQXFCLEtBQXJCLENBQTJCLEdBQTNCLEVBQWdDLENBQWhDLEVBQW1DLE1BQTVFLEdBQXFGLENBQW5HO0FBQ0EsVUFBSyxXQUFMLEdBQW1CLE1BQUssS0FBeEI7O0FBRUEsVUFBSyxXQUFMLEdBQW1CLEtBQW5CO0FBQ0EsVUFBSyxPQUFMLEdBQWUsS0FBZjs7QUFFQSxVQUFLLE1BQUw7O0FBRUEsVUFBSyxHQUFMLENBQVMsTUFBSyxLQUFkO0FBYndCO0FBY3pCOzs7O2dDQUVXO0FBQ1Y7O0FBRUE7QUFDQSxXQUFLLEdBQUwsQ0FBUyxLQUFULEdBQWlCLFNBQVMsYUFBVCxDQUF1QixLQUF2QixDQUFqQjtBQUNBLFdBQUssR0FBTCxDQUFTLEtBQVQsQ0FBZSxTQUFmLENBQXlCLEdBQXpCLENBQWdDLEtBQUssSUFBTCxDQUFVLFNBQTFDOztBQUVBO0FBQ0EsV0FBSyxHQUFMLENBQVMsVUFBVCxHQUFzQixTQUFTLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBdEI7QUFDQSxXQUFLLEdBQUwsQ0FBUyxVQUFULENBQW9CLFNBQXBCLENBQThCLEdBQTlCLENBQXFDLEtBQUssSUFBTCxDQUFVLFNBQS9DO0FBQ0EsV0FBSyxHQUFMLENBQVMsS0FBVCxDQUFlLFdBQWYsQ0FBMkIsS0FBSyxHQUFMLENBQVMsVUFBcEM7O0FBRUEsV0FBSyxHQUFMLENBQVMsT0FBVCxDQUFpQixXQUFqQixDQUE2QixLQUFLLEdBQUwsQ0FBUyxLQUF0QztBQUNEOzs7NkJBRVE7QUFBQTs7QUFDUCxXQUFLLEdBQUwsQ0FBUyxLQUFULENBQWUsZ0JBQWYsQ0FBZ0MsUUFBaEMsRUFBMEMsVUFBQyxDQUFEO0FBQUEsZUFBTyxPQUFLLGFBQUwsQ0FBbUIsQ0FBbkIsQ0FBUDtBQUFBLE9BQTFDO0FBQ0EsV0FBSyxHQUFMLENBQVMsS0FBVCxDQUFlLGdCQUFmLENBQWdDLFdBQWhDLEVBQTZDLFVBQUMsQ0FBRDtBQUFBLGVBQU8sT0FBSyxnQkFBTCxDQUFzQixDQUF0QixDQUFQO0FBQUEsT0FBN0M7QUFDRDs7O2tDQUVhLEMsRUFBRztBQUNmLFdBQUssR0FBTCxDQUFTLEtBQUssR0FBTCxDQUFTLEtBQVQsQ0FBZSxLQUF4QjtBQUNBLFdBQUssV0FBTCxHQUFtQixLQUFLLEtBQXhCO0FBQ0Q7OztxQ0FFZ0IsQyxFQUFHO0FBQ2xCLFdBQUssSUFBTCxDQUFVLEtBQVYsQ0FBZ0IsSUFBaEIsR0FBdUIsSUFBdkI7QUFDQSxXQUFLLElBQUwsQ0FBVSxLQUFWLENBQWdCLE1BQWhCLENBQXVCLENBQXZCLEdBQTJCLEVBQUUsT0FBN0I7QUFDQSxXQUFLLElBQUwsQ0FBVSxLQUFWLENBQWdCLE1BQWhCLENBQXVCLENBQXZCLEdBQTJCLEVBQUUsT0FBN0I7QUFDQSxXQUFLLFdBQUwsR0FBbUIsSUFBbkI7QUFDQSxXQUFLLFlBQUw7QUFDRDs7O29DQUVlLEMsRUFBRztBQUNqQixXQUFLLFdBQUwsR0FBbUIsS0FBbkI7QUFDRDs7O3NDQUVpQixDLEVBQUc7QUFDbkIsVUFBRyxLQUFLLFdBQVIsRUFBcUI7QUFDbkIsYUFBSyxZQUFMO0FBQ0Q7QUFDRjs7O21DQUVjO0FBQ2IsVUFBSSxPQUFPLEtBQUssR0FBTCxDQUFTLEtBQVQsQ0FBZSxVQUExQjtBQUNBLFVBQUksUUFBUSxLQUFLLEdBQUwsQ0FBUyxLQUFULENBQWUsV0FBM0I7QUFDQSxVQUFJLE1BQU0sS0FBSyxJQUFMLENBQVUsR0FBVixDQUFjLEtBQUssSUFBTCxDQUFVLEtBQVYsQ0FBZ0IsQ0FBOUIsRUFBaUMsSUFBakMsRUFBdUMsT0FBTyxLQUE5QyxFQUFxRCxLQUFLLEdBQTFELEVBQStELEtBQUssR0FBcEUsQ0FBVjtBQUNBLFdBQUssR0FBTCxDQUFTLEdBQVQ7QUFDQSxXQUFLLFdBQUwsR0FBbUIsS0FBSyxLQUF4QjtBQUNEOzs7OEJBRVM7QUFDUixVQUFHLEtBQUssR0FBTCxDQUFTLEtBQUssS0FBTCxHQUFhLEtBQUssV0FBM0IsSUFBMEMsS0FBSyxJQUFMLEdBQVksQ0FBekQsRUFBNEQ7QUFDMUQsYUFBSyxLQUFMLElBQWMsQ0FBQyxLQUFLLFdBQUwsR0FBbUIsS0FBSyxLQUF6QixJQUFrQyxHQUFoRDtBQUNBLGFBQUssR0FBTCxDQUFTLEtBQUssS0FBZCxFQUFxQixJQUFyQjtBQUNELE9BSEQsTUFHTztBQUNMLGFBQUssT0FBTCxHQUFlLElBQWY7QUFDQSxhQUFLLEtBQUwsR0FBYSxLQUFLLFdBQWxCO0FBQ0EsYUFBSyxHQUFMLENBQVMsS0FBSyxLQUFkO0FBQ0Q7QUFDRjs7O3dCQUVHLEcsRUFBSyxjLEVBQWdCO0FBQ3ZCO0FBQ0EsWUFBTSxXQUFXLEdBQVgsQ0FBTjtBQUNBLFlBQU0sTUFBTSxHQUFOLElBQWEsS0FBSyxPQUFsQixHQUE0QixHQUFsQztBQUNBLFlBQU0sS0FBSyxJQUFMLENBQVUsS0FBVixDQUFnQixHQUFoQixFQUFxQixLQUFLLEdBQTFCLEVBQStCLEtBQUssR0FBcEMsQ0FBTjtBQUNBLFlBQU0saUJBQWlCLEdBQWpCLEdBQXVCLEtBQUssSUFBTCxDQUFVLHNCQUFWLENBQWlDLEdBQWpDLEVBQXNDLEtBQUssSUFBM0MsQ0FBN0I7QUFDQSxXQUFLLEtBQUwsR0FBYSxHQUFiOztBQUVBO0FBQ0EsV0FBSyxHQUFMLENBQVMsS0FBVCxDQUFlLEtBQWYsR0FBdUIsS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixLQUFLLE1BQXhCLENBQXZCOztBQUVBO0FBQ0EsV0FBSyxHQUFMLENBQVMsVUFBVCxDQUFvQixLQUFwQixDQUEwQixTQUExQixlQUFnRCxLQUFLLElBQUwsQ0FBVSxHQUFWLENBQWMsS0FBSyxLQUFuQixFQUEwQixLQUFLLEdBQS9CLEVBQW9DLEtBQUssR0FBekMsRUFBOEMsQ0FBOUMsRUFBaUQsQ0FBakQsQ0FBaEQ7O0FBRUE7QUFDQSxXQUFLLEdBQUwsQ0FBUyxPQUFULENBQWlCLFlBQWpCLENBQThCLE9BQTlCLEVBQTBDLEtBQUssS0FBL0MsVUFBeUQsS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixLQUFLLE1BQXhCLENBQXpEO0FBQ0Q7Ozs7RUFoRzRCLFc7O0FBb0cvQixPQUFPLE9BQVAsR0FBaUIsZ0JBQWpCOzs7Ozs7Ozs7QUN0R0EsSUFBTSxhQUFhLFFBQVEsZUFBUixDQUFuQjtBQUNBLElBQU0sbUJBQW1CLFFBQVEsc0JBQVIsQ0FBekI7O0lBRU0sSTtBQUVKLGdCQUFZLE1BQVosRUFBb0I7QUFBQTs7QUFDbEIsU0FBSyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0EsU0FBSyxPQUFMLEdBQWUsRUFBZjs7QUFFQSxTQUFLLEtBQUwsR0FBYTtBQUNYLFlBQU0sS0FESztBQUVYLFNBQUcsQ0FGUTtBQUdYLFNBQUcsQ0FIUTtBQUlYLGNBQVE7QUFDTixXQUFHLENBREc7QUFFTixXQUFHO0FBRkc7QUFKRyxLQUFiOztBQVVBLFNBQUssV0FBTCxHQUFtQixLQUFuQjtBQUNBLFNBQUssR0FBTCxHQUFXLElBQVg7O0FBRUEsU0FBSyxTQUFMLEdBQWlCLE9BQU8sU0FBUCxLQUFxQixTQUFyQixHQUFpQyxPQUFPLFNBQXhDLEdBQW9ELFNBQVMsSUFBOUU7QUFDQSxTQUFLLFNBQUwsR0FBaUIsT0FBTyxTQUFQLEtBQXFCLFNBQXJCLEdBQWlDLE9BQU8sU0FBeEMsR0FBb0QsTUFBckU7QUFDQSxTQUFLLEtBQUwsR0FBYSxPQUFPLEtBQVAsS0FBaUIsU0FBakIsR0FBNkIsT0FBTyxLQUFwQyxHQUE0QyxNQUF6RDs7QUFFQSxTQUFLLFNBQUw7QUFDQSxTQUFLLE1BQUw7QUFDRDs7OztnQ0FFVztBQUNWLFdBQUssR0FBTCxHQUFXLEVBQVg7O0FBRUE7QUFDQSxXQUFLLEdBQUwsQ0FBUyxTQUFULEdBQXFCLEtBQUssU0FBMUI7O0FBRUE7QUFDQSxXQUFLLEdBQUwsQ0FBUyxLQUFULEdBQWlCLFNBQVMsYUFBVCxDQUF1QixLQUF2QixDQUFqQjtBQUNBLFdBQUssR0FBTCxDQUFTLEtBQVQsQ0FBZSxTQUFmLENBQXlCLEdBQXpCLENBQWdDLEtBQUssU0FBckM7O0FBRUE7QUFDQSxXQUFLLEdBQUwsQ0FBUyxLQUFULEdBQWlCLFNBQVMsYUFBVCxDQUF1QixJQUF2QixDQUFqQjtBQUNBLFdBQUssR0FBTCxDQUFTLEtBQVQsQ0FBZSxTQUFmLENBQXlCLEdBQXpCLENBQWdDLEtBQUssU0FBckM7QUFDQSxXQUFLLEdBQUwsQ0FBUyxLQUFULENBQWUsV0FBZixHQUE2QixLQUFLLEtBQWxDO0FBQ0EsV0FBSyxHQUFMLENBQVMsS0FBVCxDQUFlLFdBQWYsQ0FBMkIsS0FBSyxHQUFMLENBQVMsS0FBcEM7O0FBRUE7QUFDQSxXQUFLLEdBQUwsQ0FBUyxRQUFULEdBQW9CLFNBQVMsYUFBVCxDQUF1QixLQUF2QixDQUFwQjtBQUNBLFdBQUssR0FBTCxDQUFTLFFBQVQsQ0FBa0IsU0FBbEIsQ0FBNEIsR0FBNUIsQ0FBbUMsS0FBSyxTQUF4QztBQUNBLFdBQUssR0FBTCxDQUFTLEtBQVQsQ0FBZSxXQUFmLENBQTJCLEtBQUssR0FBTCxDQUFTLFFBQXBDOztBQUVBO0FBQ0EsV0FBSyxHQUFMLENBQVMsU0FBVCxDQUFtQixXQUFuQixDQUErQixLQUFLLEdBQUwsQ0FBUyxLQUF4QztBQUNEOzs7NkJBRVE7QUFBQTs7QUFDUCxhQUFPLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DLFVBQUMsQ0FBRDtBQUFBLGVBQU8sTUFBSyxlQUFMLENBQXFCLENBQXJCLENBQVA7QUFBQSxPQUFuQztBQUNBLGFBQU8sZ0JBQVAsQ0FBd0IsV0FBeEIsRUFBcUMsVUFBQyxDQUFEO0FBQUEsZUFBTyxNQUFLLGlCQUFMLENBQXVCLENBQXZCLENBQVA7QUFBQSxPQUFyQztBQUNEOzs7b0NBRWUsQyxFQUFHO0FBQ2pCLFdBQUssS0FBTCxDQUFXLElBQVgsR0FBa0IsS0FBbEI7QUFDQSxXQUFJLElBQUksR0FBUixJQUFlLEtBQUssUUFBcEIsRUFBOEI7QUFDNUIsWUFBSSxVQUFVLEtBQUssUUFBTCxDQUFjLEdBQWQsQ0FBZDtBQUNBLGdCQUFRLGVBQVIsQ0FBd0IsQ0FBeEI7QUFDRDtBQUNGOzs7c0NBRWlCLEMsRUFBRztBQUNuQixXQUFLLEtBQUwsQ0FBVyxDQUFYLEdBQWUsRUFBRSxPQUFqQjtBQUNBLFdBQUssS0FBTCxDQUFXLENBQVgsR0FBZSxFQUFFLE9BQWpCO0FBQ0EsV0FBSSxJQUFJLEdBQVIsSUFBZSxLQUFLLFFBQXBCLEVBQThCO0FBQzVCLFlBQUksVUFBVSxLQUFLLFFBQUwsQ0FBYyxHQUFkLENBQWQ7QUFDQSxnQkFBUSxpQkFBUixDQUEwQixDQUExQjtBQUNEO0FBQ0Y7Ozs2QkFFUTtBQUFBOztBQUNQLFdBQUssV0FBTCxHQUFtQixLQUFuQjtBQUNBLFdBQUksSUFBSSxHQUFSLElBQWUsS0FBSyxRQUFwQixFQUE4QjtBQUM1QixZQUFHLEtBQUssUUFBTCxDQUFjLEdBQWQsRUFBbUIsSUFBbkIsS0FBNEIsT0FBL0IsRUFBd0M7QUFDdEMsZUFBSyxRQUFMLENBQWMsR0FBZCxFQUFtQixPQUFuQjtBQUNBLGNBQUcsQ0FBQyxLQUFLLFFBQUwsQ0FBYyxHQUFkLEVBQW1CLE9BQXZCLEVBQWdDO0FBQzlCLGlCQUFLLFdBQUwsR0FBbUIsSUFBbkI7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsVUFBRyxLQUFLLFdBQVIsRUFBcUI7QUFDbkIsYUFBSyxHQUFMLEdBQVcsc0JBQXNCO0FBQUEsaUJBQU0sT0FBSyxNQUFMLEVBQU47QUFBQSxTQUF0QixDQUFYO0FBQ0Q7QUFDRjs7OzhCQUVTLE0sRUFBUTtBQUNoQixXQUFJLElBQUksR0FBUixJQUFlLEtBQUssT0FBcEIsRUFBNkI7QUFDMUIsWUFBRyxPQUFPLEVBQVAsS0FBYyxLQUFLLE9BQUwsQ0FBYSxHQUFiLEVBQWtCLEVBQW5DLEVBQXVDO0FBQ3JDLGtCQUFRLEtBQVIscUNBQStDLE9BQU8sRUFBdEQ7QUFDQTtBQUNEO0FBQ0g7QUFDRCxXQUFLLE9BQUwsQ0FBYSxPQUFPLEVBQXBCLElBQTBCLElBQUksVUFBSixDQUFlLElBQWYsRUFBcUIsTUFBckIsQ0FBMUI7QUFDRDs7OytCQUVVLE0sRUFBUTtBQUNqQixVQUFJLFVBQVUsSUFBZDs7QUFFQSxXQUFJLElBQUksR0FBUixJQUFlLEtBQUssUUFBcEIsRUFBOEI7QUFDM0IsWUFBRyxPQUFPLEVBQVAsS0FBYyxLQUFLLFFBQUwsQ0FBYyxHQUFkLEVBQW1CLEVBQXBDLEVBQXdDO0FBQ3RDLGtCQUFRLEtBQVIsc0NBQWdELE9BQU8sRUFBdkQ7QUFDQTtBQUNEO0FBQ0g7O0FBRUQsY0FBTyxPQUFPLElBQWQ7QUFDRSxhQUFLLE9BQUw7QUFDRSxvQkFBVSxJQUFJLGdCQUFKLENBQXFCLElBQXJCLEVBQTJCLE1BQTNCLENBQVY7QUFDQTtBQUhKOztBQU1BLFVBQUcsT0FBSCxFQUFZO0FBQ1YsYUFBSyxRQUFMLENBQWMsUUFBUSxFQUF0QixJQUE0QixPQUE1QjtBQUNEO0FBQ0Y7Ozt3QkFFRyxFLEVBQUk7QUFDTixhQUFPLEtBQUssUUFBTCxDQUFjLEVBQWQsRUFBa0IsS0FBekI7QUFDRDs7O2dDQUVXO0FBQ1YsV0FBSSxJQUFJLEdBQVIsSUFBZSxLQUFLLFFBQXBCLEVBQThCO0FBQzVCLFlBQUksVUFBVSxLQUFLLFFBQUwsQ0FBYyxHQUFkLENBQWQ7QUFDQSxnQkFBUSxPQUFSLEdBQWtCLEtBQWxCO0FBQ0EsZ0JBQVEsV0FBUixHQUFzQixLQUFLLElBQUwsQ0FBVSxRQUFRLEdBQWxCLEVBQXVCLFFBQVEsR0FBL0IsQ0FBdEI7QUFDQSw2QkFBcUIsS0FBSyxHQUExQjtBQUNBLGFBQUssTUFBTDtBQUNEO0FBQ0Y7Ozs2QkFFUTtBQUNQLFdBQUksSUFBSSxHQUFSLElBQWUsS0FBSyxRQUFwQixFQUE4QjtBQUM1QixZQUFJLFVBQVUsS0FBSyxRQUFMLENBQWMsR0FBZCxDQUFkO0FBQ0EsWUFBSSxPQUFPLENBQUMsUUFBUSxHQUFSLEdBQWMsUUFBUSxHQUF2QixJQUE4QixFQUF6QztBQUNBLGdCQUFRLE9BQVIsR0FBa0IsS0FBbEI7QUFDQSxZQUFHLFFBQVEsS0FBUixJQUFpQixRQUFRLEdBQTVCLEVBQWlDO0FBQy9CLGtCQUFRLFdBQVIsR0FBc0IsS0FBSyxJQUFMLENBQVUsUUFBUSxJQUFsQixFQUF3QixRQUFRLEdBQVIsR0FBYyxJQUF0QyxDQUF0QjtBQUNELFNBRkQsTUFFTyxJQUFHLFFBQVEsS0FBUixJQUFpQixRQUFRLEdBQTVCLEVBQWlDO0FBQ3RDLGtCQUFRLFdBQVIsR0FBc0IsS0FBSyxJQUFMLENBQVUsUUFBUSxHQUFSLEdBQWMsSUFBeEIsRUFBOEIsUUFBUSxHQUFSLEdBQWMsUUFBUSxJQUFwRCxDQUF0QjtBQUNELFNBRk0sTUFFQTtBQUNMLGtCQUFRLFdBQVIsR0FBc0IsUUFBUSxLQUFSLEdBQWdCLEtBQUssSUFBTCxDQUFVLENBQUMsSUFBWCxFQUFpQixJQUFqQixDQUF0QztBQUNEO0FBQ0QsNkJBQXFCLEtBQUssR0FBMUI7QUFDQSxhQUFLLE1BQUw7QUFDRDtBQUNGOzs7eUJBRUksRyxFQUFLLEcsRUFBSyxJLEVBQU07QUFDbkIsVUFBRyxRQUFRLFNBQVgsRUFBc0I7QUFDcEIsY0FBTSxHQUFOO0FBQ0EsY0FBTSxDQUFOO0FBQ0Q7QUFDRCxVQUFJLFNBQVMsS0FBSyxNQUFMLEVBQWI7QUFDQSxhQUFPLFVBQVUsTUFBTSxHQUFoQixJQUF1QixHQUE5QjtBQUNEOzs7MEJBRUssRyxFQUFLLEcsRUFBSyxHLEVBQUs7QUFDbkIsYUFBTyxLQUFLLEdBQUwsQ0FBUyxLQUFLLEdBQUwsQ0FBUyxHQUFULEVBQWMsR0FBZCxDQUFULEVBQTZCLEdBQTdCLENBQVA7QUFDRDs7O3dCQUVHLEcsRUFBSyxLLEVBQU8sSyxFQUFPLE0sRUFBUSxNLEVBQVE7QUFDckMsYUFBUSxDQUFDLFNBQVMsTUFBVixLQUFxQixDQUFDLE1BQU0sS0FBUCxLQUFpQixRQUFRLEtBQXpCLENBQXJCLENBQUQsR0FBMEQsTUFBakU7QUFDRDs7OzJDQUVzQixLLEVBQU8sUSxFQUFVO0FBQ3RDLGFBQU8sS0FBSyxLQUFMLENBQVcsUUFBUSxRQUFuQixJQUErQixRQUF0QztBQUNEOzs7Ozs7QUFJSCxPQUFPLE9BQVAsR0FBaUIsSUFBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiY2xhc3MgRnV0ekJ1dHRvbiB7XG4gIFxuICBjb25zdHJ1Y3RvcihmdXR6LCBjb25maWcpIHtcbiAgICB0aGlzLmZ1dHogPSBmdXR6O1xuICAgIHRoaXMuaWQgPSBjb25maWcuaWQ7XG4gICAgdGhpcy50aXRsZSA9IGNvbmZpZy50aXRsZTtcbiAgICB0aGlzLmNhbGxiYWNrID0gY29uZmlnLmNhbGxiYWNrO1xuICAgIFxuICAgIHRoaXMuY3JlYXRlRE9NKCk7XG4gICAgdGhpcy5saXN0ZW4oKTtcbiAgfVxuICBcbiAgY3JlYXRlRE9NKCkge1xuICAgIHRoaXMuZG9tID0ge307XG4gICAgXG4gICAgLy8gY29udHJvbFxuICAgIHRoaXMuZG9tLmNvbnRyb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbS5jb250cm9sLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5mdXR6Lm5hbWVzcGFjZX0tY29udHJvbGApO1xuICAgIFxuICAgIC8vIGJ1dHRvblxuICAgIHRoaXMuZG9tLmJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIHRoaXMuZG9tLmJ1dHRvbi5jbGFzc0xpc3QuYWRkKGAke3RoaXMuZnV0ei5uYW1lc3BhY2V9LWNvbnRyb2wtYnV0dG9uYCk7XG4gICAgdGhpcy5kb20uYnV0dG9uLnRleHRDb250ZW50ID0gdGhpcy50aXRsZTtcbiAgICB0aGlzLmRvbS5jb250cm9sLmFwcGVuZENoaWxkKHRoaXMuZG9tLmJ1dHRvbik7XG4gICAgXG4gICAgLy8gYWRkIGNvbnRyb2wgdG8gcGFuZWxcbiAgICB0aGlzLmZ1dHouZG9tLmNvbnRyb2xzLmFwcGVuZENoaWxkKHRoaXMuZG9tLmNvbnRyb2wpO1xuICB9XG4gIFxuICBsaXN0ZW4oKSB7XG4gICAgdGhpcy5kb20uYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHRoaXMub25CdXR0b25DbGljayhlKSk7XG4gIH1cbiAgXG4gIG9uQnV0dG9uQ2xpY2soZSkge1xuICAgIHRoaXMuY2FsbGJhY2soKTsgXG4gIH1cbiAgXG59XG5cbm1vZHVsZS5leHBvcnRzID0gRnV0ekJ1dHRvblxuIiwiY2xhc3MgRnV0ekNvbnRyb2wge1xuICBcbiAgY29uc3RydWN0b3IoZnV0eiwgY29uZmlnKSB7XG4gICAgdGhpcy5mdXR6ID0gZnV0ejtcbiAgICB0aGlzLnR5cGUgPSBjb25maWcudHlwZTtcbiAgICB0aGlzLmlkID0gY29uZmlnLmlkO1xuICAgIHRoaXMudGl0bGUgPSBjb25maWcudGl0bGU7XG4gICAgdGhpcy5kZWZhdWx0ID0gY29uZmlnLmRlZmF1bHQ7XG4gICAgdGhpcy5yYW5kb21pemFibGUgPSBjb25maWcucmFuZG9taXphYmxlICE9PSB1bmRlZmluZWQgPyBjb25maWcubG9ja2VkIDogdHJ1ZTtcbiAgICB0aGlzLm11dGFibGUgPSBjb25maWcubXV0YWJsZSAhPT0gdW5kZWZpbmVkID8gY29uZmlnLm11dGFibGUgOiB0cnVlO1xuICAgIHRoaXMubG9ja2VkID0gY29uZmlnLmxvY2tlZCAhPT0gdW5kZWZpbmVkID8gY29uZmlnLmxvY2tlZCA6IGZhbHNlO1xuICAgIHRoaXMudmFsdWUgPSB0aGlzLmRlZmF1bHQ7XG4gICAgXG4gICAgdGhpcy5jcmVhdGVET00oKTtcbiAgfVxuICBcbiAgY3JlYXRlRE9NKCkge1xuICAgIHRoaXMuZG9tID0ge307XG4gICAgXG4gICAgLy8gY29udHJvbFxuICAgIHRoaXMuZG9tLmNvbnRyb2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbS5jb250cm9sLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5mdXR6Lm5hbWVzcGFjZX0tY29udHJvbGApO1xuICAgIFxuICAgIC8vIHRpdGxlXG4gICAgdGhpcy5kb20udGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgIHRoaXMuZG9tLnRpdGxlLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5mdXR6Lm5hbWVzcGFjZX0tY29udHJvbC10aXRsZWApO1xuICAgIHRoaXMuZG9tLnRpdGxlLnRleHRDb250ZW50ID0gdGhpcy50aXRsZTtcbiAgICB0aGlzLmRvbS5jb250cm9sLmFwcGVuZENoaWxkKHRoaXMuZG9tLnRpdGxlKTtcbiAgICBcbiAgICAvLyB2YWx1ZVxuICAgIHRoaXMuZG9tLnZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICB0aGlzLmRvbS52YWx1ZS5jbGFzc0xpc3QuYWRkKGAke3RoaXMuZnV0ei5uYW1lc3BhY2V9LWNvbnRyb2wtdmFsdWVgKTtcbiAgICB0aGlzLmRvbS5jb250cm9sLmFwcGVuZENoaWxkKHRoaXMuZG9tLnZhbHVlKTtcbiAgICBcbiAgICAvLyBhZGQgY29udHJvbCB0byBwYW5lbFxuICAgIHRoaXMuZnV0ei5kb20uY29udHJvbHMuYXBwZW5kQ2hpbGQodGhpcy5kb20uY29udHJvbCk7XG4gIH1cbiAgXG4gIGxvY2soKSB7XG4gICAgdGhpcy5sb2NrZWQgPSB0cnVlO1xuICB9XG4gIFxuICB1bmxvY2soKSB7XG4gICAgdGhpcy5sb2NrZWQgPSBmYWxzZTtcbiAgfVxuICBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBGdXR6Q29udHJvbDtcbiIsImNvbnN0IEZ1dHpDb250cm9sID0gcmVxdWlyZSgnLi9mdXR6LWNvbnRyb2wnKTtcblxuY2xhc3MgRnV0elJhbmdlQ29udHJvbCBleHRlbmRzIEZ1dHpDb250cm9sIHtcbiAgXG4gIGNvbnN0cnVjdG9yKGZ1dHosIGNvbmZpZykge1xuICAgIHN1cGVyKGZ1dHosIGNvbmZpZyk7XG4gICAgdGhpcy5taW4gPSBjb25maWcubWluO1xuICAgIHRoaXMubWF4ID0gY29uZmlnLm1heDtcbiAgICB0aGlzLnN0ZXAgPSBjb25maWcuc3RlcCAhPT0gdW5kZWZpbmVkID8gTWF0aC5hYnMoY29uZmlnLnN0ZXApIDogMTtcbiAgICB0aGlzLnBsYWNlcyA9IHRoaXMuc3RlcC50b1N0cmluZygpLmluZGV4T2YoJy4nKSA+IC0xID8gdGhpcy5zdGVwLnRvU3RyaW5nKCkuc3BsaXQoJy4nKVsxXS5sZW5ndGggOiAwO1xuICAgIHRoaXMudmFsdWVUYXJnZXQgPSB0aGlzLnZhbHVlO1xuICAgICAgICBcbiAgICB0aGlzLm1vdXNlSXNEb3duID0gZmFsc2U7XG4gICAgdGhpcy5zZXR0bGVkID0gZmFsc2U7XG4gICAgXG4gICAgdGhpcy5saXN0ZW4oKTtcbiAgICBcbiAgICB0aGlzLnNldCh0aGlzLnZhbHVlKTtcbiAgfVxuICBcbiAgY3JlYXRlRE9NKCkge1xuICAgIHN1cGVyLmNyZWF0ZURPTSgpO1xuICAgIFxuICAgIC8vIHJhbmdlXG4gICAgdGhpcy5kb20ucmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbS5yYW5nZS5jbGFzc0xpc3QuYWRkKGAke3RoaXMuZnV0ei5uYW1lc3BhY2V9LWNvbnRyb2wtcmFuZ2VgKTtcbiAgICBcbiAgICAvLyByYW5nZSBpbm5lclxuICAgIHRoaXMuZG9tLnJhbmdlSW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmRvbS5yYW5nZUlubmVyLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5mdXR6Lm5hbWVzcGFjZX0tY29udHJvbC1yYW5nZS1pbm5lcmApO1xuICAgIHRoaXMuZG9tLnJhbmdlLmFwcGVuZENoaWxkKHRoaXMuZG9tLnJhbmdlSW5uZXIpO1xuICAgIFxuICAgIHRoaXMuZG9tLmNvbnRyb2wuYXBwZW5kQ2hpbGQodGhpcy5kb20ucmFuZ2UpO1xuICB9XG4gIFxuICBsaXN0ZW4oKSB7XG4gICAgdGhpcy5kb20udmFsdWUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHRoaXMub25WYWx1ZUNoYW5nZShlKSk7XG4gICAgdGhpcy5kb20ucmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGUpID0+IHRoaXMub25WYWx1ZU1vdXNlZG93bihlKSk7XG4gIH1cbiAgXG4gIG9uVmFsdWVDaGFuZ2UoZSkge1xuICAgIHRoaXMuc2V0KHRoaXMuZG9tLnZhbHVlLnZhbHVlKTtcbiAgICB0aGlzLnZhbHVlVGFyZ2V0ID0gdGhpcy52YWx1ZTtcbiAgfVxuICBcbiAgb25WYWx1ZU1vdXNlZG93bihlKSB7XG4gICAgdGhpcy5mdXR6Lm1vdXNlLmRvd24gPSB0cnVlO1xuICAgIHRoaXMuZnV0ei5tb3VzZS5hbmNob3IueCA9IGUuY2xpZW50WDtcbiAgICB0aGlzLmZ1dHoubW91c2UuYW5jaG9yLnkgPSBlLmNsaWVudFk7XG4gICAgdGhpcy5tb3VzZUlzRG93biA9IHRydWU7XG4gICAgdGhpcy5zZXREcmFnVmFsdWUoKTtcbiAgfVxuICBcbiAgb25XaW5kb3dNb3VzZXVwKGUpIHtcbiAgICB0aGlzLm1vdXNlSXNEb3duID0gZmFsc2U7XG4gIH1cbiAgXG4gIG9uV2luZG93TW91c2Vtb3ZlKGUpIHtcbiAgICBpZih0aGlzLm1vdXNlSXNEb3duKSB7XG4gICAgICB0aGlzLnNldERyYWdWYWx1ZSgpO1xuICAgIH1cbiAgfVxuICBcbiAgc2V0RHJhZ1ZhbHVlKCkge1xuICAgIGxldCBsZWZ0ID0gdGhpcy5kb20ucmFuZ2Uub2Zmc2V0TGVmdDtcbiAgICBsZXQgd2lkdGggPSB0aGlzLmRvbS5yYW5nZS5vZmZzZXRXaWR0aDtcbiAgICBsZXQgdmFsID0gdGhpcy5mdXR6Lm1hcCh0aGlzLmZ1dHoubW91c2UueCwgbGVmdCwgbGVmdCArIHdpZHRoLCB0aGlzLm1pbiwgdGhpcy5tYXgpO1xuICAgIHRoaXMuc2V0KHZhbCk7XG4gICAgdGhpcy52YWx1ZVRhcmdldCA9IHRoaXMudmFsdWU7XG4gIH1cbiAgXG4gIGVhc2VTZXQoKSB7XG4gICAgaWYoTWF0aC5hYnModGhpcy52YWx1ZSAtIHRoaXMudmFsdWVUYXJnZXQpID4gdGhpcy5zdGVwIC8gMikge1xuICAgICAgdGhpcy52YWx1ZSArPSAodGhpcy52YWx1ZVRhcmdldCAtIHRoaXMudmFsdWUpICogMC4yO1xuICAgICAgdGhpcy5zZXQodGhpcy52YWx1ZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0dGxlZCA9IHRydWU7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZVRhcmdldDtcbiAgICAgIHRoaXMuc2V0KHRoaXMudmFsdWUpOyBcbiAgICB9XG4gIH1cbiAgXG4gIHNldCh2YWwsIGJ5cGFzc1JvdW5kaW5nKSB7XG4gICAgLy8gc2FuaXRpemUgdmFsdWVcbiAgICB2YWwgPSBwYXJzZUZsb2F0KHZhbCk7XG4gICAgdmFsID0gaXNOYU4odmFsKSA/IHRoaXMuZGVmYXVsdCA6IHZhbDtcbiAgICB2YWwgPSB0aGlzLmZ1dHouY2xhbXAodmFsLCB0aGlzLm1pbiwgdGhpcy5tYXgpO1xuICAgIHZhbCA9IGJ5cGFzc1JvdW5kaW5nID8gdmFsIDogdGhpcy5mdXR6LnJvdW5kVG9OZWFyZXN0SW50ZXJ2YWwodmFsLCB0aGlzLnN0ZXApO1xuICAgIHRoaXMudmFsdWUgPSB2YWw7XG4gICAgXG4gICAgLy8gc2V0IGlucHV0IHZhbHVlXG4gICAgdGhpcy5kb20udmFsdWUudmFsdWUgPSB0aGlzLnZhbHVlLnRvRml4ZWQodGhpcy5wbGFjZXMpO1xuICAgIFxuICAgIC8vIHNldCByYW5nZSB2YWx1ZVxuICAgIHRoaXMuZG9tLnJhbmdlSW5uZXIuc3R5bGUudHJhbnNmb3JtID0gYHNjYWxlWCgke3RoaXMuZnV0ei5tYXAodGhpcy52YWx1ZSwgdGhpcy5taW4sIHRoaXMubWF4LCAwLCAxKX0pYDtcbiAgICBcbiAgICAvLyBzZXQgdGhlIHRpdGxlIGF0dHJpYnV0ZSBmb3IgdGhlIGNvbnRyb2xcbiAgICB0aGlzLmRvbS5jb250cm9sLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBgJHt0aGlzLnRpdGxlfTogJHt0aGlzLnZhbHVlLnRvRml4ZWQodGhpcy5wbGFjZXMpfWApO1xuICB9XG4gIFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEZ1dHpSYW5nZUNvbnRyb2w7XG4iLCJjb25zdCBGdXR6QnV0dG9uID0gcmVxdWlyZSgnLi9mdXR6LWJ1dHRvbicpO1xuY29uc3QgRnV0elJhbmdlQ29udHJvbCA9IHJlcXVpcmUoJy4vZnV0ei1yYW5nZS1jb250cm9sJyk7XG5cbmNsYXNzIEZ1dHoge1xuICBcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgdGhpcy5jb250cm9scyA9IHt9O1xuICAgIHRoaXMuYnV0dG9ucyA9IHt9O1xuICAgIFxuICAgIHRoaXMubW91c2UgPSB7XG4gICAgICBkb3duOiBmYWxzZSxcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgICAgYW5jaG9yOiB7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IDBcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdGhpcy5uZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICAgIHRoaXMucmFmID0gbnVsbDtcbiAgICBcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbmZpZy5jb250YWluZXIgIT09IHVuZGVmaW5lZCA/IGNvbmZpZy5jb250YWluZXIgOiBkb2N1bWVudC5ib2R5O1xuICAgIHRoaXMubmFtZXNwYWNlID0gY29uZmlnLm5hbWVzcGFjZSAhPT0gdW5kZWZpbmVkID8gY29uZmlnLm5hbWVzcGFjZSA6ICdmdXR6JztcbiAgICB0aGlzLnRpdGxlID0gY29uZmlnLnRpdGxlICE9PSB1bmRlZmluZWQgPyBjb25maWcudGl0bGUgOiAnRnV0eic7XG4gICAgXG4gICAgdGhpcy5jcmVhdGVET00oKTtcbiAgICB0aGlzLmxpc3RlbigpO1xuICB9XG4gIFxuICBjcmVhdGVET00oKSB7XG4gICAgdGhpcy5kb20gPSB7fTtcbiAgICBcbiAgICAvLyBkb21cbiAgICB0aGlzLmRvbS5jb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICBcbiAgICAvLyBwYW5lbFxuICAgIHRoaXMuZG9tLnBhbmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5kb20ucGFuZWwuY2xhc3NMaXN0LmFkZChgJHt0aGlzLm5hbWVzcGFjZX0tcGFuZWxgKTtcbiAgICBcbiAgICAvLyB0aXRsZVxuICAgIHRoaXMuZG9tLnRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKTtcbiAgICB0aGlzLmRvbS50aXRsZS5jbGFzc0xpc3QuYWRkKGAke3RoaXMubmFtZXNwYWNlfS10aXRsZWApO1xuICAgIHRoaXMuZG9tLnRpdGxlLnRleHRDb250ZW50ID0gdGhpcy50aXRsZTtcbiAgICB0aGlzLmRvbS5wYW5lbC5hcHBlbmRDaGlsZCh0aGlzLmRvbS50aXRsZSk7XG4gICAgXG4gICAgLy8gY29udHJvbHNcbiAgICB0aGlzLmRvbS5jb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZG9tLmNvbnRyb2xzLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5uYW1lc3BhY2V9LWNvbnRyb2xzYCk7XG4gICAgdGhpcy5kb20ucGFuZWwuYXBwZW5kQ2hpbGQodGhpcy5kb20uY29udHJvbHMpO1xuICAgIFxuICAgIC8vIGFkZCBwYW5lbCB0byBjb250YWluZXJcbiAgICB0aGlzLmRvbS5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kb20ucGFuZWwpO1xuICB9XG4gIFxuICBsaXN0ZW4oKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCAoZSkgPT4gdGhpcy5vbldpbmRvd01vdXNldXAoZSkpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCAoZSkgPT4gdGhpcy5vbldpbmRvd01vdXNlbW92ZShlKSk7XG4gIH1cbiAgXG4gIG9uV2luZG93TW91c2V1cChlKSB7XG4gICAgdGhpcy5tb3VzZS5kb3duID0gZmFsc2U7XG4gICAgZm9yKGxldCBrZXkgaW4gdGhpcy5jb250cm9scykge1xuICAgICAgbGV0IGNvbnRyb2wgPSB0aGlzLmNvbnRyb2xzW2tleV07XG4gICAgICBjb250cm9sLm9uV2luZG93TW91c2V1cChlKTtcbiAgICB9XG4gIH1cbiAgXG4gIG9uV2luZG93TW91c2Vtb3ZlKGUpIHtcbiAgICB0aGlzLm1vdXNlLnggPSBlLmNsaWVudFg7XG4gICAgdGhpcy5tb3VzZS55ID0gZS5jbGllbnRZO1xuICAgIGZvcihsZXQga2V5IGluIHRoaXMuY29udHJvbHMpIHtcbiAgICAgIGxldCBjb250cm9sID0gdGhpcy5jb250cm9sc1trZXldO1xuICAgICAgY29udHJvbC5vbldpbmRvd01vdXNlbW92ZShlKTtcbiAgICB9XG4gIH1cbiAgXG4gIHVwZGF0ZSgpIHtcbiAgICB0aGlzLm5lZWRzVXBkYXRlID0gZmFsc2U7XG4gICAgZm9yKGxldCBrZXkgaW4gdGhpcy5jb250cm9scykge1xuICAgICAgaWYodGhpcy5jb250cm9sc1trZXldLnR5cGUgPT09ICdyYW5nZScpIHtcbiAgICAgICAgdGhpcy5jb250cm9sc1trZXldLmVhc2VTZXQoKTtcbiAgICAgICAgaWYoIXRoaXMuY29udHJvbHNba2V5XS5zZXR0bGVkKSB7XG4gICAgICAgICAgdGhpcy5uZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYodGhpcy5uZWVkc1VwZGF0ZSkge1xuICAgICAgdGhpcy5yYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy51cGRhdGUoKSk7IFxuICAgIH1cbiAgfVxuICBcbiAgYWRkQnV0dG9uKGNvbmZpZykge1xuICAgIGZvcihsZXQga2V5IGluIHRoaXMuYnV0dG9ucykge1xuICAgICAgIGlmKGNvbmZpZy5pZCA9PT0gdGhpcy5idXR0b25zW2tleV0uaWQpIHtcbiAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZ1dHo6IEEgYnV0dG9uIHdpdGggYW4gaWQgb2YgJyR7Y29uZmlnLmlkfScgaXMgYWxyZWFkeSBpbiB1c2UuYCk7IFxuICAgICAgICAgcmV0dXJuO1xuICAgICAgIH0gICAgICAgICAgXG4gICAgfVxuICAgIHRoaXMuYnV0dG9uc1tjb25maWcuaWRdID0gbmV3IEZ1dHpCdXR0b24odGhpcywgY29uZmlnKTsgXG4gIH1cbiAgXG4gIGFkZENvbnRyb2woY29uZmlnKSB7XG4gICAgbGV0IGNvbnRyb2wgPSBudWxsO1xuICAgIFxuICAgIGZvcihsZXQga2V5IGluIHRoaXMuY29udHJvbHMpIHtcbiAgICAgICBpZihjb25maWcuaWQgPT09IHRoaXMuY29udHJvbHNba2V5XS5pZCkge1xuICAgICAgICAgY29uc29sZS5lcnJvcihgRnV0ejogQSBjb250cm9sIHdpdGggYW4gaWQgb2YgJyR7Y29uZmlnLmlkfScgaXMgYWxyZWFkeSBpbiB1c2UuYCk7IFxuICAgICAgICAgcmV0dXJuO1xuICAgICAgIH0gICAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIHN3aXRjaChjb25maWcudHlwZSkge1xuICAgICAgY2FzZSAncmFuZ2UnOlxuICAgICAgICBjb250cm9sID0gbmV3IEZ1dHpSYW5nZUNvbnRyb2wodGhpcywgY29uZmlnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIFxuICAgIGlmKGNvbnRyb2wpIHtcbiAgICAgIHRoaXMuY29udHJvbHNbY29udHJvbC5pZF0gPSBjb250cm9sOyBcbiAgICB9XG4gIH1cbiAgXG4gIGdldChpZCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRyb2xzW2lkXS52YWx1ZTtcbiAgfVxuICBcbiAgcmFuZG9taXplKCkge1xuICAgIGZvcihsZXQga2V5IGluIHRoaXMuY29udHJvbHMpIHtcbiAgICAgIGxldCBjb250cm9sID0gdGhpcy5jb250cm9sc1trZXldO1xuICAgICAgY29udHJvbC5zZXR0bGVkID0gZmFsc2U7XG4gICAgICBjb250cm9sLnZhbHVlVGFyZ2V0ID0gdGhpcy5yYW5kKGNvbnRyb2wubWluLCBjb250cm9sLm1heCk7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJhZik7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuICBcbiAgbXV0YXRlKCkge1xuICAgIGZvcihsZXQga2V5IGluIHRoaXMuY29udHJvbHMpIHtcbiAgICAgIGxldCBjb250cm9sID0gdGhpcy5jb250cm9sc1trZXldO1xuICAgICAgbGV0IHNpemUgPSAoY29udHJvbC5tYXggLSBjb250cm9sLm1pbikgLyAxNTtcbiAgICAgIGNvbnRyb2wuc2V0dGxlZCA9IGZhbHNlO1xuICAgICAgaWYoY29udHJvbC52YWx1ZSA8PSBjb250cm9sLm1pbikge1xuICAgICAgICBjb250cm9sLnZhbHVlVGFyZ2V0ID0gdGhpcy5yYW5kKGNvbnRyb2wuc3RlcCwgY29udHJvbC5taW4gKyBzaXplKTtcbiAgICAgIH0gZWxzZSBpZihjb250cm9sLnZhbHVlID49IGNvbnRyb2wubWF4KSB7XG4gICAgICAgIGNvbnRyb2wudmFsdWVUYXJnZXQgPSB0aGlzLnJhbmQoY29udHJvbC5tYXggLSBzaXplLCBjb250cm9sLm1heCAtIGNvbnRyb2wuc3RlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250cm9sLnZhbHVlVGFyZ2V0ID0gY29udHJvbC52YWx1ZSArIHRoaXMucmFuZCgtc2l6ZSwgc2l6ZSk7XG4gICAgICB9XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnJhZik7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuICBcbiAgcmFuZChtaW4sIG1heCwgZWFzZSkge1xuICAgIGlmKG1heCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBtYXggPSBtaW47XG4gICAgICBtaW4gPSAwO1xuICAgIH1cbiAgICBsZXQgcmFuZG9tID0gTWF0aC5yYW5kb20oKTtcbiAgICByZXR1cm4gcmFuZG9tICogKG1heCAtIG1pbikgKyBtaW47XG4gIH1cbiAgXG4gIGNsYW1wKHZhbCwgbWluLCBtYXgpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odmFsLCBtYXgpLCBtaW4pO1xuICB9XG4gIFxuICBtYXAodmFsLCBpbk1pbiwgaW5NYXgsIG91dE1pbiwgb3V0TWF4KSB7XG4gICAgcmV0dXJuICgob3V0TWF4IC0gb3V0TWluKSAqICgodmFsIC0gaW5NaW4pIC8gKGluTWF4IC0gaW5NaW4pKSkgKyBvdXRNaW47XG4gIH1cbiAgXG4gIHJvdW5kVG9OZWFyZXN0SW50ZXJ2YWwodmFsdWUsIGludGVydmFsKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgLyBpbnRlcnZhbCkgKiBpbnRlcnZhbDtcbiAgfVxuICBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBGdXR6O1xuIl19"}